<!DOCTYPE html>
<html>
<head>
    <title>Lista de Funcionários</title>
</head>
<body>
    <h1>Lista de Funcionários</h1>
    <form method="GET">
        {{ busca_form.termo_busca.label_tag }} {{ busca_form.termo_busca }}
        <button type="submit">Buscar</button>
    </form>

    <form method="GET" action="{% url 'ordenarFuncionarios' %}">
        {{ ordenacao_form.ordenacao.label_tag }} {{ ordenacao_form.ordenacao }}
        <button type="submit">Ordenar</button>
    </form>

    <table>
        <thead>
            <tr>
                <th>Data</th>
                <th>Nome</th>
                <th>Matrícula</th>
                <th>Cargo</th>
                <th>Nível</th>
                <th>Salario</th>
            </tr>
        </thead>
        <tbody>
            {% for funcionario in pagina_atual %}
                <tr>
                    <td>{{ funcionario.data }}</td>
                    <td>{{ funcionario.nome }}</td>
                    <td>{{ funcionario.matricula }}</td>
                    <td>{{ funcionario.cargo }}</td>
                    <td>{{ funcionario.cargo.nivel }}</td>
                    <td>{{ funcionario.salario.all.0.salario }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="pagination">
        <span class="step-links">
            {% if pagina_atual.has_previous %}
                <a href="?page=1">Primeira</a>
                <a href="?page={{ pagina_atual.previous_page_number }}">Anterior</a>
            {% endif %}
    
    
            {% if pagina_atual.has_next %}
                <a href="?page={{ pagina_atual.next_page_number }}">Próxima</a>
                <a href="?page={{ pagina_atual.paginator.num_pages }}">Última</a>
            {% endif %}
        </span>
    </div>
</body>
</html>
